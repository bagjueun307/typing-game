<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>타자 판 뒤집기 게임</title>
    <style>
        body { background: #333; color: white; display: flex; flex-direction: column; align-items: center; font-family: 'Malgun Gothic', sans-serif; }
        #game-container { margin-top: 20px; text-align: center; }
        
        /* 4x4 판 구조 */
        .board { 
            display: grid; 
            grid-template-columns: repeat(4, 120px); 
            grid-template-rows: repeat(4, 80px); 
            gap: 10px; 
            background: #444; 
            padding: 15px; 
            border-radius: 10px;
        }

        .cell {
            background: #eee;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
            border: 4px solid transparent;
        }

        /* 내 판 (파란색) */
        .cell.player { background: #3498db; color: white; border-color: #2980b9; }
        /* 상대 판 (빨간색 - 컴퓨터) */
        .cell.enemy { background: #e74c3c; color: white; border-color: #c0392b; }

        .info { margin: 20px; font-size: 1.5rem; display: flex; gap: 40px; }
        #input-field { 
            padding: 10px; width: 300px; font-size: 1.2rem; 
            border-radius: 5px; border: none; outline: none;
        }
        .score-box { padding: 10px 20px; border-radius: 10px; background: #222; }
    </style>
</head>
<body>

    <h2>타자 판 뒤집기</h2>
    
    <div class="info">
        <div class="score-box">나: <span id="p-score">0</span></div>
        <div class="score-box">컴퓨터: <span id="e-score">0</span></div>
    </div>

    <div id="game-container">
        <div class="board" id="board"></div>
        <br>
        <input type="text" id="input-field" placeholder="단어를 입력하고 엔터!" autofocus>
    </div>

    <script>
        // 게임에 사용할 단어 리스트
        const words = ["사과", "포도", "바나나", "컴퓨터", "자바스크립트", "고양이", "강아지", "대한민국", "우주", "바다", "하늘", "자동차", "호랑이", "코끼리", "비행기", "사자", "토끼", "기차", "수박", "딸기"];
        
        let boardData = [];
        const boardEl = document.getElementById('board');
        const inputEl = document.getElementById('input-field');
        const pScoreEl = document.getElementById('p-score');
        const eScoreEl = document.getElementById('e-score');

        // 게임 초기화
        function initGame() {
            boardData = [];
            boardEl.innerHTML = '';
            
            // 16개의 랜덤 단어로 판 채우기
            let shuffleWords = [...words].sort(() => Math.random() - 0.5);
            for (let i = 0; i < 16; i++) {
                boardData.push({
                    word: shuffleWords[i % shuffleWords.length],
                    owner: 'none' // 'none', 'player', 'enemy'
                });
            }
            renderBoard();
        }

        // 판 그리기
        function renderBoard() {
            boardEl.innerHTML = '';
            let pScore = 0;
            let eScore = 0;

            boardData.forEach((data, index) => {
                const cell = document.createElement('div');
                cell.className = 'cell';
                if (data.owner === 'player') { cell.classList.add('player'); pScore++; }
                if (data.owner === 'enemy') { cell.classList.add('enemy'); eScore++; }
                cell.innerText = data.word;
                boardEl.appendChild(cell);
            });

            pScoreEl.innerText = pScore;
            eScoreEl.innerText = eScore;

            if (pScore + eScore === 16) {
                const winner = pScore > eScore ? "승리!" : "패배...";
                alert(`게임 종료! 결과: ${pScore} 대 ${eScore}로 당신의 ${winner}`);
                initGame();
            }
        }

        // 유저 입력 확인
        inputEl.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const val = inputEl.value.trim();
                const target = boardData.find(d => d.word === val && d.owner !== 'player');
                
                if (target) {
                    target.owner = 'player';
                    renderBoard();
                }
                inputEl.value = '';
            }
        });

        // 컴퓨터 로직 (일정 시간마다 단어 선점)
        function enemyTurn() {
            const targets = boardData.filter(d => d.owner !== 'enemy');
            if (targets.length > 0) {
                const randomTarget = targets[Math.floor(Math.random() * targets.length)];
                randomTarget.owner = 'enemy';
                renderBoard();
            }
            // 난이도 조절: 컴퓨터가 단어를 치는 속도 (3초마다 하나씩)
            setTimeout(enemyTurn, 3000);
        }

        initGame();
        setTimeout(enemyTurn, 2000); // 2초 후 컴퓨터 시작
    </script>
</body>
</html>
